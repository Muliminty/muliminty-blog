---
title: "入门"
description: "Hit the ground running."
date: "2024-03-22"
collection: "blog"
tags:
  - "入门指南"
  - "安装"
  - "配置"
---

---

## 安装 astro-micro

克隆 [Astro Micro 仓库](https://github.com/trevortylerlee/astro-micro.git)。

```sh
git clone https://github.com/trevortylerlee/astro-micro.git my-astro-micro
```

```sh
cd my-astro-micro
```

```sh
npm i
```

```sh
npm run build
```

```sh
npm run dev
```

## 自定义网站元数据

要更改网站元数据，请编辑 `src/consts.ts`。

```ts
// src/consts.ts

export const SITE: Site = {
  NAME: "Astro Micro",
  DESCRIPTION: "Astro Micro 是一个适用于 Astro 的无障碍主题。",
  EMAIL: "trevortylerlee@gmail.com",
  NUM_POSTS_ON_HOMEPAGE: 3,
  NUM_PROJECTS_ON_HOMEPAGE: 3,
};
```

| 字段        | 必填 | 描述                                          |
| :----------- | :-- | :--------------------------------------------------- |
| TITLE        | 是 | 显示在页眉和页脚中。用于SEO和RSS。 |
| DESCRIPTION  | 是 | 用于SEO和RSS。                                 |
| EMAIL        | 是 | 显示在联系部分。                        |
| NUM_POSTS    | 是 | 限制首页显示的文章数量。                  |
| NUM_PROJECTS | 是 | 限制首页显示的项目数量。               |

---

## 自定义单个页面的元数据

```ts
// src/consts.ts

export const ABOUT: Metadata = {
  TITLE: "关于",
  DESCRIPTION: "Astro Micro 是 Astro Nano 的一个分支。",
};
```

| 字段       | 必填 | 描述                                    |
| :---------- | :-- | :--------------------------------------------- |
| TITLE       | 是 | 显示在浏览器标签中。用于SEO和RSS。 |
| DESCRIPTION | 是 | 用于SEO和RSS。                           |

---

## 添加社交媒体链接

```ts
// src/consts.ts

export const SOCIALS: Socials = [
  {
    NAME: "twitter-x",
    HREF: "https://twitter.com/boogerbuttcheeks",
  },
  {
    NAME: "github",
    HREF: "https://github.com/trevortylerlee",
  },
  {
    NAME: "linkedin",
    HREF: "https://www.linkedin.com/in/trevortylerlee",
  },
];
```

| 字段 | 必填 | 描述                             |
| :---- | :-- | :-------------------------------------- |
| NAME  | 是 | 在联系部分显示为链接。 |
| HREF  | 是 | 社交媒体资料的外部链接。   |

## 部署网站

要设置RSS和Giscus，如果网站已部署并有一个URL供您使用，会更容易。点击下面的按钮立即部署到Vercel或Netlify。

<div className="flex gap-2">
  <a target="_blank" aria-label="使用 Vercel 部署" href="https://vercel.com/new/clone?repository-url=https://github.com/trevortylerlee/astro-micro">
    <img src="/deploy_vercel.svg" />
  </a>
  <a target="_blank" aria-label="使用 Netlify 部署" href="https://app.netlify.com/start/deploy?repository=https://github.com/trevortylerlee/astro-micro">
    <img src="/deploy_netlify.svg" />
  </a>
</div>

要手动部署，请参阅 [Astro 文档](https://docs.astro.build/en/guides/deploy/)。

## 设置 RSS

将 `site` 选项更改为已部署站点的URL。

```js
// astro.config.mjs

export default defineConfig({
  site: "https://astro-micro.vercel.app",
  integrations: [tailwind(), sitemap(), mdx(), pagefind()],
  markdown: {
    shikiConfig: {
      theme: "css-variables",
    },
  },
});
```

## 设置 Giscus

按照 [giscus.app](https://giscus.app) 的步骤操作。一旦您从该站点获得自定义的Giscus脚本，请转到 `Giscus.astro` 并用您自己的脚本替换该脚本。

```js
// src/components/Giscus.astro

<script
  is:inline
  src="https://giscus.app/client.js"
  data-repo="trevortylerlee/astro-micro"
  data-repo-id="R_kgDOL_6l9Q"
  data-category="Announcements"
  data-category-id="DIC_kwDOL_6l9c4Cfk55"
  data-mapping="pathname"
  data-strict="0"
  data-reactions-enabled="1"
  data-emit-metadata="0"
  data-input-position="top"
  data-theme="preferred_color_scheme"
  data-lang="en"
  data-loading="lazy"
  crossorigin="anonymous"
  async></script>

```

要更改使用的Giscus主题，请编辑 `Head.astro` 中的 `setGiscusTheme` 函数。

```js
// src/components/Head.astro

const setGiscusTheme = () => {
  const giscus = document.querySelector(".giscus-frame");

  const isDark = document.documentElement.classList.contains("dark");

  if (giscus) {
    const url = new URL(giscus.src);
    // 将 "dark" 和 "light" 更改为其他 Giscus 主题
    url.searchParams.set("theme", isDark ? "dark" : "light");
    giscus.src = url.toString();
  }
};
